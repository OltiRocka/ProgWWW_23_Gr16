<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>News Detail</title>
  </head>

  <body>
    <div id="newsDetail"></div>

    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const articleId = urlParams.get("id");
      const title = urlParams.get("title");
      const desc = urlParams.get("desc");
      const image = urlParams.get("image");
      console.log(desc);

      fetch(
        "http://olti-news.eu-central-1.elasticbeanstalk.com/article/" +
          articleId
      )
        .then((response) => response.json())
        .then((data) => {
          const container = document.getElementById("newsDetail");

          const articleTitle = document.createElement("h2");
          articleTitle.innerText = title;

          const articleDescription = document.createElement("p");
          articleDescription.innerText = desc;

          const articleImage = document.createElement("img");
          articleImage.src = image;

          const articleTime = document.createElement("p");
          articleTime.innerText = data.timestamp;

          const articleContent = document.createElement("p");
          articleContent.innerText = data.content;

          container.appendChild(articleTitle);
          container.appendChild(articleDescription);
          container.appendChild(articleImage);
          container.appendChild(articleTime);
          container.appendChild(articleContent);
        });
    </script>
  </body>
</html>
